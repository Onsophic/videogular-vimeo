!function(e){function n(i){if(t[i])return t[i].exports;var o=t[i]={exports:{},id:i,loaded:!1};return e[i].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}var t={};return n.m=e,n.c=t,n.p="",n(0)}([function(e,n){"use strict";angular.module("videogular.plugins.vimeo",[]).directive("vgVimeo",["VG_STATES",function(e){return{restrict:"A",require:"^videogular",link:function(n,t,i,o){function r(e){var n=/^.+vimeo.com\/(.*\/)?([^#\?]*)/,t=e.match(n);return t?t[2]||t[1]:null}function u(){function e(){var e=new CustomEvent("loadedmetadata");o.mediaElement[0].dispatchEvent(e)}Object.defineProperties(o.mediaElement[0],{currentTime:{get:function(){return s},set:function(n){s=n,c.vimeo("seekTo",n),e()}},duration:{get:function(){return d}},paused:{get:function(){return f}},videoWidth:{get:function(){return m}},videoHeight:{get:function(){return l}},volume:{get:function(){return v},set:function(e){v=e,c.vimeo("setVolume",e)}}}),o.mediaElement[0].play=function(){c.vimeo("play")},o.mediaElement[0].pause=function(){c.vimeo("pause")},c.vimeo("getVolume",function(e){v=e,o.onVolumeChange()}).vimeo("getCurrentTime",function(n){s=n,e()}).vimeo("getDuration",function(n){d=n,e()})}function a(n){if(!n)return void(c&&c.destroy());var t=r(n);t&&(c=$("<iframe>",{src:"//player.vimeo.com/video/"+t+"?api=1&player_id=vimeoplayer",frameborder:0,scrolling:"no"}),angular.element(c.css({width:"100%",height:"calc(100% + 400px)","margin-top":"-200px"})),$(o.mediaElement[0]).replaceWith(c),c.on("ready",function(){u()}).on("play",function(){f=!1;var n=new CustomEvent("playing");o.mediaElement[0].dispatchEvent(n),o.setState(e.PLAY)}).on("pause",function(){f=!0;var n=new CustomEvent("pause");o.mediaElement[0].dispatchEvent(n),o.setState(e.PAUSE)}).on("finish",function(){o.onComplete()}).on("playProgress",function(e,n){s=n.seconds,d=n.duration,o.onUpdateTime({target:o.mediaElement[0]})}))}var c,m,l,s,d,f,v;n.$watch(function(){return o.sources},function(e,n){a(e&&e.length>0&&e[0].src?e[0].src.toString():null)})}}}])}]);